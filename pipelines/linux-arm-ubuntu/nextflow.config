# Fix for: openjdk=17 not working on ARM (Pixi)
# Replace openjdk=17 with one that supports ARM (e.g., Temurin version via conda-forge)

# --- File: pipelines/linux-arm-ubuntu/nextflow-ubuntu/pixi.toml ---
[project]
name = "nextflow-arm"
channels = ["conda-forge"]
platforms = ["linux-aarch64"]

[dependencies]
nextflow = "*"
temurin-jdk = "17"  # Replaces openjdk

# --- File: pipelines/linux-arm-ubuntu/nextflow-ubuntu/nextflow.config ---
nextflow {
  enable.dsl = 2
}

process {
  executor = 'local'
  cpus = 2
}

params {
  input = '/home/ubuntu/data/*.fastq.gz'
  outdir = '/home/ubuntu/output'
  genome_dir = '/home/ubuntu/genome/STAR_index'
}
